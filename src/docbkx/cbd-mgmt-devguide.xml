<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book [
<!-- Some useful entities borrowed from HTML -->
        <!ENTITY ndash "&#x2013;">
        <!ENTITY mdash "&#x2014;">
        <!ENTITY hellip "&#x2026;">

        <!-- Useful for describing APIs -->
        <!ENTITY GET '<command xmlns="http://docbook.org/ns/docbook">GET</command>'>
        <!ENTITY PUT '<command xmlns="http://docbook.org/ns/docbook">PUT</command>'>
        <!ENTITY POST '<command xmlns="http://docbook.org/ns/docbook">POST</command>'>
        <!ENTITY DELETE '<command xmlns="http://docbook.org/ns/docbook">DELETE</command>'>
        <!ENTITY PRODNAME "Cloud Big Data">
        <!ENTITY PRODABBV "CBD">
        
        <!-- changing authentication endpoints; define entities for US & UK rather than maintaining in text -->
        <!ENTITY ENDPOINT-US "https://identity.api.rackspacecloud.com/v1.1/">
        <!ENTITY ENDPOINT-UK "https://lon.identity.api.rackspacecloud.com/v1.1/">
        <!ENTITY ENDPOINT-US-20 "https://identity.api.rackspacecloud.com/v2.0/">
        <!ENTITY ENDPOINT-UK-20 "https://lon.identity.api.rackspacecloud.com/v2.0/">

        <!-- Useful for specs -->
        <!ENTITY MAY '<emphasis xmlns="http://docbook.org/ns/docbook" role="strong">MAY</emphasis>'>
        <!ENTITY SHOULD '<emphasis xmlns="http://docbook.org/ns/docbook" role="strong">SHOULD</emphasis>'>
        <!ENTITY MUST '<emphasis xmlns="http://docbook.org/ns/docbook" role="strong">MUST</emphasis>'>
        <!ENTITY MUST_NOT '<emphasis xmlns="http://docbook.org/ns/docbook" role="strong">MUST NOT</emphasis>'>

        <!ENTITY CHECK '<inlinemediaobject xmlns="http://docbook.org/ns/docbook">
                 <imageobject>
                  <imagedata fileref="img/Check_mark_23x20_02.svg"
                             format="SVG" scale="60"/>
                </imageobject>
              </inlinemediaobject>'>

        <!ENTITY ARROW '<inlinemediaobject xmlns="http://docbook.org/ns/docbook">
                 <imageobject>
                  <imagedata fileref="img/Arrow_east.svg"
                             format="SVG" scale="60"/>
                </imageobject>
              </inlinemediaobject>'>
]>


<book xmlns="http://docbook.org/ns/docbook"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:svg="http://www.w3.org/2000/svg"
    xmlns:m="http://www.w3.org/1998/Math/MathML"
    xmlns:html="http://www.w3.org/1999/xhtml"
    xml:id="cbd-mgmt-devguide"   
    version="5.0">
   
    <?rax title.font.size="30px" subtitle.font.size="20px"?>
    <title>Rackspace Cloud Big Data Developer Guide for Service Management</title>
    <?rax status.bar.text.font.size="40px"
          status.bar.text="Limited Access"
	  canonical.url.base="http://docs-internal.rackspace.com/cbd/api/v1/cbd-mgmt-devguide/content"?>
    <titleabbrev>Rackspace Cloud Big Data Management Developer
        Guide</titleabbrev>   <info>
        <author>
            <personname>
                <firstname/>
                <surname/>
            </personname>
            <affiliation>
                <orgname>Rackspace Cloud</orgname>
            </affiliation>
        </author>
        <copyright>
            <year>2013</year>
            <year>2014</year>
            <holder>Rackspace US, Inc.</holder>
        </copyright>
        <releaseinfo>API v1.0 Limited Access</releaseinfo>
        <productname>Rackspace Cloud Big Data</productname>
        <pubdate>2014-01-14</pubdate>
        <legalnotice role="rs-api">
            <annotation>
                <remark>Copyright details are filled in by the doc build process.</remark>
            </annotation>
        </legalnotice>
        <abstract>
            <para>This document is intended for software developers
                interested in developing service management
                applications using the Rackspace Cloud Big Data
                Application Programming Interface
                    (<abbrev>API</abbrev>). </para>
        </abstract>
        
        <revhistory>
            <revision>
                <date>2014-01-14</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Initial Limted Access (LA)
                                release.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2013-09-16</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Initial Early Access (EA)
                                release.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
        </revhistory>        
    <raxm:metadata xmlns:raxm="http://docs.rackspace.com/api/metadata">
      <raxm:displayname>API Admin Developer Guide</raxm:displayname>
      <raxm:product version="v1.0">cbd</raxm:product>
      <raxm:priority>30</raxm:priority>
    </raxm:metadata>
    </info>
    <chapter xml:id="overview">
        <title>Overview</title>
        <para>Rackspace Cloud Big Data is an on-demand Hadoop service
            on the Rackspace open cloud. It alleviates the pain
            associated with deploying, managing and scaling Hadoop
            clusters, allowing you to focus on your core business. </para>
        <para>Interactions with Cloud Big Data occur programmatically
            via the Cloud Big Data API as described in this
                <citetitle>Cloud Big Data Developer Guide for Service
                Management</citetitle> and in the <citetitle>Cloud Big Data
            Developer Guide</citetitle>.</para>
        <para>Rackspace Cloud Big Data is just as flexible and
            feature-rich as running Hadoop on your own. You will
            benefit from on-demand servers, utility-based pricing, and
            have access to the full set of Hadoop features and APIs.
            However, you won’t have to worry about provisioning,
            growing, or maintaining your Hadoop infrastructure. Our
            service uses an environment, which is specifically
            optimized for Hadoop. This ensures that your jobs will run
            efficiently and reliably. Please note that you will still
            be responsible for developing, troubleshooting, and
            deploying your applications. </para>
        <remark>Reviewers: If you have an architecture diagram for
            Cloud Big Data that you want included here, please send it
            to me.</remark>
<!-- Coming after EA from David Dobbins who is working with marketing on this
        <para security="reviewers">The following figure shows an overview of Cloud Big
            Data: <<informalfigure>
                <mediaobject>
                    <imageobject>
                        <imagedata
                            fileref="images/Cloud_DB_Infographic-1.svg"
                            contentwidth="6in"/>
                    </imageobject>
                </mediaobject>
            </informalfigure>
        </para>
-->        
        <para xmlns:wadl="http://wadl.dev.java.net/2009/02">There are
            two primary use cases for &PRODNAME;: </para>
        <itemizedlist xmlns:wadl="http://wadl.dev.java.net/2009/02">
            <listitem>
                <para>To create on-demand infrastructure for
                    applications in production where physical servers
                    would be too costly and time-consuming to
                    configure and maintain.</para>
            </listitem>
            <listitem>
                <para>To develop, test, and pilot data analysis
                    applications.</para>
            </listitem>
        </itemizedlist>
        <para xmlns:wadl="http://wadl.dev.java.net/2009/02"> The
            benefits of &PRODNAME; include allowing you to: <itemizedlist>
                <listitem>
                    <para>Create or resize Hadoop clusters in minutes
                        and pay only for what you use.</para>
                </listitem>
                <listitem>
                    <para>Access Hortonworks Data Platform (HDP), an
                        enterprise-ready distribution that is 100%
                        Apache open source.</para>
                </listitem>
                <listitem>
                    <para>Provision and manage Hadoop using an
                        easy-to-use Control Panel and a RESTful
                        API.</para>
                </listitem>
                <listitem>
                    <para>Seamlessly access data in Cloud Files
                        containers.</para>
                </listitem>
                <listitem>
                    <para>Gain interoperability with any third party
                        software tool that supports HDP.</para>
                </listitem>
                <listitem>
                    <para>Fanatical Support® on a 24x7x365 basis via
                        chat, phone or ticket.</para>
                </listitem>
            </itemizedlist>
        </para>
        <section xml:id="Intended_Audience-d1e122">
            <title>Intended Audience</title>
            <para>Two APIs provide access to Rackspace Cloud Big Data: </para>
            <itemizedlist spacing="compact">
                <listitem>
                    <para>The <emphasis>management</emphasis> API,
                        available only to developers, Support
                        personnel, and Operations administrators
                        within Rackspace, depending on the granted
                        LDAP roles/permissions, is the subject of this
                        document.</para>
                </listitem>
                <listitem>
                    <para>The <emphasis>public</emphasis> API,
                        available to developers within Rackspace and
                        Rackspace customers, is the subject of a
                        companion document, the <citetitle>Cloud Big
                            Data Developer Guide</citetitle>.</para>
                </listitem>
            </itemizedlist>  
            <?hard-pagebreak?>
            <para xmlns:wadl="http://wadl.dev.java.net/2009/02">These
                guides are intended to assist software developers who
                want to develop applications using the &PRODNAME; API.
                It assumes the reader has a general understanding of
                Big Data concepts and is familiar with: </para>
            <itemizedlist spacing="compact">
                <listitem>
                    <para>Hadoop, HDFS, and MapReduce</para>
                </listitem>
                <listitem>
                    <para>RESTful web services</para>
                </listitem>
                <listitem>
                    <para>HTTP/1.1 conventions</para>
                </listitem>
                <listitem>
                    <para>JSON serialization formats</para>
                </listitem>
            </itemizedlist>
        </section>
        <?hard-pagebreak?>
        <section xml:id="Document_Change_History-d1e166">
            <title>Document Change History</title>
            <para>This version of the Developer Guide for Service
                Management replaces and obsoletes all previous
                versions. The most recent changes are described in the
                table below:</para>
            <?rax revhistory?>
        </section>
        <section xml:id="Early_Access-d1e122">
            <title>Limited Access</title>
            <para xmlns:wadl="http://wadl.dev.java.net/2009/02">The
                Limited Access program enables customers and Rackers
                to test an early version of the product and provide
                feedback of the product and capabilities. Customers
                are screened as part of the on-boarding process to
                ensure correct product/customer fit. </para>
<!--            
            <para xmlns:wadl="http://wadl.dev.java.net/2009/02">The
                &PRODABBV; Limited Access Program is a pre-production
                service offering covered by the Beta Services terms
                    (<link
                    xlink:href="http://www.rackspace.com/information/legal/testterms/"
                    >
                    rackspace.com/information/legal/testterms/</link>)
                in our Rackspace Cloud Terms of Service.</para>
-->                
            <para xmlns:wadl="http://wadl.dev.java.net/2009/02"
                >Limited Access users must meet the following
                criteria: <itemizedlist spacing="compact">
                    <listitem>
                        <para>A Rackspace Cloud account.</para>
                    </listitem>
                    <listitem>
                        <para>Prior knowledge of Hadoop or a 3rd party
                            tool that works with Hadoop.</para>
                    </listitem>
                    <listitem>
                        <para>Ability to work with the Hortonworks
                            Data Platform.</para>
                    </listitem>
                    <listitem>
                        <para>Prior knowledge of HTTP/1.1
                            conventions</para>
                    </listitem>
                    <listitem>
                        <para>Basic familiarity with Cloud and RESTful
                            APIs.</para>
                    </listitem>
                    <listitem>
                        <para>A willingness to provide feedback to
                            Rackspace’s Product and Product Marketing
                            functions.</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para xmlns:wadl="http://wadl.dev.java.net/2009/02">The
                following is supported during the Limited Access
                Program: <itemizedlist spacing="compact">
                    <listitem>
                        <para> Operating System – CentOS 6.3. </para>
                    </listitem>
                    <listitem>
                        <para> Hadoop Distribution – Hortonworks Data
                            Platform (HDP) version 1.1. </para>
                    </listitem>
                </itemizedlist>
            </para>
            <para xmlns:wadl="http://wadl.dev.java.net/2009/02">By
                using the &PRODNAME; API, you agree and understand
                    that:<itemizedlist spacing="compact">
                    <listitem>
                        <para>&PRODABBV; includes a Swift integration
                            feature wherein Hadoop, MapReduce, or Pig
                            jobs can directly reference Cloud Files
                            containers. Currently, it is only possible
                            to reference containers in DFW.</para>
                    </listitem>
                    <listitem>
                        <para>If you participate in this Limited
                            Access Program, you will receive a
                            notification prior to general
                            availability. </para>
                    </listitem>
                </itemizedlist>
            </para>
            <para xmlns:wadl="http://wadl.dev.java.net/2009/02">The
                following resource limits apply during the Limited
                Access program:  <itemizedlist spacing="compact">
                    <listitem>
                        <para> Up to 5 data nodes</para>
                    </listitem>
                    <listitem>
                        <para>Up to 5 virtual CPUs</para>
                    </listitem>
                    <listitem>
                        <para>Up to 25 GBs of RAM</para>
                    </listitem>
                    <listitem>
                        <para>Up to 2 Terabytes of disk space</para>
                    </listitem>
                </itemizedlist>
            </para>
        </section>
        <?hard-pagebreak?>
        <section xml:id="API_Contract_Changes-d1e122">
            <title>API Contract Changes</title>
            <para xmlns:wadl="http://wadl.dev.java.net/2009/02">The
                API contract is not locked and may change during the
                Limited Access Program.</para>
            <para xmlns:wadl="http://wadl.dev.java.net/2009/02"
                >Rackspace will notify customers in Release Notes when
                and if the contract does change.</para>
        </section>
        <section xml:id="Pricing_SLA-d1e1362"
            xmlns:wadl="http://wadl.dev.java.net/2009/02">
            <title>Pricing and Service Level</title>
            <para>&PRODNAME; is part of the Rackspace Cloud and your
                use through the API will be billed as per the pricing
                schedule at <link
                    xlink:href="http://www.rackspace.com/cloud/public/bigdata/pricing"
                    >http://www.rackspace.com/cloud/public/bigdata/pricing</link>.
                Cloud Servers is also part of the Rackspace Cloud and
                your use through the Cloud Control Panel will be
                billed as per the pricing schedule at <link
                    xlink:href="http://www.rackspace.com/cloud/public/servers/pricing"
                    >http://www.rackspace.com/cloud/public/servers/pricing</link>.</para>
            <para>The Service Level Agreements (SLAs) for Cloud Big
                Data and Cloud Servers are available at <link
                    xlink:href="http://www.rackspace.com/cloud/legal/sla/#cloud_bigdata"
                    >http://www.rackspace.com/cloud/legal/sla/#cloud_bigdata</link>
                and <link
                    xlink:href="http://www.rackspace.com/cloud/legal/sla"
                    >http://www.rackspace.com/cloud/legal/sla</link>
                respectively.</para>
        </section>
        <section xml:id="Additional_Resources-d1e532">
            <title>Additional Resources</title>
            <!--
            <para>Descriptive information about Cloud Big Data is also
                published in its Web Application Description Language
                (WADL) and XML Schema Definition (XSD). You are
                welcome to read this information here:</para>
            <itemizedlist>
                <listitem>
                    <para>The WADL is <link
                            xlink:href="http://docs-internal.rackspace.com/cbd/api/v1.0/cbd-management.wadl"
                        />.</para>
                </listitem>
                <listitem>
                    <para>The XSD is <link
                        xlink:href="http://docs-internal.rackspace.com/cbd/api/v1.0/xsd/cbd-management.xsd"/>. </para>
                </listitem>
            </itemizedlist>
            -->
            <para xmlns:wadl="http://wadl.dev.java.net/2009/02">For
                information about Rackspace Cloud products, refer to
                    <link xlink:href="http://www.rackspace.com/cloud/"
                    > www.rackspace.com/cloud</link>. This site also
                offers links to Rackspace's official support channels,
                including knowledge base articles, forums, phone,
                chat, and email. </para>
            <para xmlns:wadl="http://wadl.dev.java.net/2009/02">Email
                all support questions to:
                    <email>cbdteam@rackspace.com</email>. </para>
            <para>For information about getting started using Cloud
                Big Data, refer to <citetitle>Getting Started with
                    Rackspace Cloud Big Data</citetitle>.</para>
            <para security="writeronly">Please visit our <link
                    xlink:href="http://feedback.rackspacecloud.com/forums/71021-product-feedback/category/42449-cloud-databases"
                    >Product Feedback Forum</link> to find out what
                customers think about Cloud Big Data.</para>
            <para>You can also follow Rackspace updates and
                announcements via twitter at <link
                    xlink:href="http://www.twitter.com/rackspace"
                    >http://www.twitter.com/rackspace</link>. </para>
            <para>This API uses standard HTTP 1.1 response codes as
                documented at <link
                    xlink:href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html"
                    >http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html</link>.
            </para>
        </section>
    </chapter>
    <chapter xml:id="Concepts-d1e563">
        <title>Concepts</title>
        <?dbhtml stop-chunking?>
        <para>To use the Cloud Big Data API effectively, you should
            understand the terminology found in the <xref
                linkend="glossary_1"/>. </para>
    </chapter>
    <chapter xml:id="General_API_Information-d1e633">
        <title>General API Information</title>
        <para>The &PRODNAME; API is implemented using a RESTful web
            service interface. Most functions of the customer-facing
            &PRODNAME; API may be accessed on behalf of a customer.
            The &PRODNAME; Management API also extends this
            functionality to include operations for managing features
            of the public API<remark>as well as additional data fields
                not available to customers</remark>.</para>
        <para xmlns:wadl="http://wadl.dev.java.net/2009/02">Like other
            products in the Rackspace Cloud suite, &PRODNAME; shares a
            common token-based authentication system that allows
            seamless access between products and services. </para>
        <note xmlns:wadl="http://wadl.dev.java.net/2009/02">
            <para> All requests to authenticate against and operate
                the service are performed using SSL over HTTP (HTTPS)
                on TCP port 443. </para>
        </note>
        <section xml:id="Authentication-d1e647">
            <title>Authentication</title>
            <para xmlns:wadl="http://wadl.dev.java.net/2009/02">Every
                REST request against the &PRODNAME; Service requires
                the inclusion of a specific authorization token,
                supplied by the <code>X-Auth-Token</code> HTTP header.
                Customers obtain this token by first using the
                Rackspace Cloud Authentication Service and supplying a
                valid username and API access key. </para>
            <para xmlns:wadl="http://wadl.dev.java.net/2009/02">To
                authenticate, submit a <code>POST/v2.0/tokens</code>
                request, presenting valid Rackspace customer
                credentials in the message body to a Rackspace
                authentication endpoint. </para>
            <note>
                <para>If you cannot access the &PRODNAME; Management
                    API, please email the &PRODNAME; team at
                        <email>cbdteam@rackspace.com</email> to
                    request access. Access will be granted on an
                    as-needed basis until access to the Management API
                    is integrated with Global Auth.</para>
            </note>
            <para>
                <emphasis role="bold">GET YOUR CREDENTIALS</emphasis>
            </para>
            <para> You can use either of two sets of credentials: <itemizedlist>
                <listitem>
                    <para>your <code>username</code> and
                        <code>password</code></para>
                </listitem>
                <listitem>
                    <para>your <code>username</code> and <code>API
                        key</code></para>
                </listitem>
            </itemizedlist>
            </para>
            <para>Your <code>username</code> and <code>password</code>
                are the ones you use to login to the Rackspace control
                panel. Once you are logged in, you can use the
                Rackspace control panel to obtain your <code>API
                    key</code>. </para>
            <para>Use the control panel for the region in which your
                account is based: <itemizedlist spacing="compact">
                    <listitem>
                        <para> US-based accounts use the control panel
                            at <link
                                xlink:href="https://manage.rackspacecloud.com/"
                                >https://manage.rackspacecloud.com/</link>.
                        </para>
                    </listitem>
                    <listitem>
                        <para> UK-based accounts use the control panel
                            at <link
                                xlink:href="https://lon.manage.rackspacecloud.com/"
                                >
                                https://lon.manage.rackspacecloud.com/</link>.
                        </para>
                    </listitem>
                </itemizedlist>
            </para>
            <?hard-pagebreak?>     
            <para> <emphasis role="bold">CHOOSE YOUR AUTHENTICATION </emphasis>
            </para>
            <para>
                Use the authentication endpoint for the region in which your account is based:
                <itemizedlist>
                    <listitem>
                        <para>All accounts authenticate through
                            <link xlink:href="https://identity.api.rackspacecloud.com/v2.0/tokens">
                                identity.api.rackspacecloud.com/v2.0/tokens</link>.</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para><emphasis role="bold">SEND YOUR CREDENTIALS TO YOUR
                    AUTHENTICATION ENDPOINT</emphasis>
            </para>
            <para>If you know your credentials and your authentication
                endpoint, and you can issue a <code>POST
                    /v2.0/tokens</code> request in an API call, you
                have all the basic information you need to use the
                Rackspace Cloud Identity Service. </para>
            <para>You can use <link xlink:href="http://curl.haxx.se/"
                    >cURL</link> to try the authentication process in
                two steps: get a token; send the token to a service.<orderedlist>
                    <listitem>
                        <para>Get an authentication token by providing
                            your username and either your API key or
                            your password. Here are examples of both
                            approaches:</para>
                        <para><emphasis>You can request a token by
                                providing your username and your API
                                key.</emphasis></para>
                        <para>
                            <literallayout class="monospaced">curl -X POST https://auth.api.rackspacecloud.com/v2.0/tokens -d 
'{ "auth":{ "RAX-KSKEY:apiKeyCredentials":{ "username":"theUserName", "apiKey":"00a00000a000a0000000a000a00aaa0a" } } }' -H "Content-type: application/json"</literallayout>
                        </para>
                        <para><emphasis>You can request a token by
                                providing your username and your
                                password.</emphasis></para>
                        <para>
                            <literallayout class="monospaced">curl -X POST https://auth.api.rackspacecloud.com/v2.0/tokens -d
'{"auth":{"passwordCredentials":{"username":"theUserName","password":"thePassword"}}}' -H "Content-type: application/json"</literallayout>
                        </para>
                        <para> Successful authentication returns a
                            token which you can use as evidence that
                            your identity has already been
                            authenticated. To use the token, pass it
                            to other services as an
                                <code>X-Auth-Token</code> header. </para>
                        <para> Authentication also returns a service
                            catalog, listing the endpoints you can use
                            for Cloud services. </para>
                    </listitem>
                    <listitem>
                        <para>Use the authentication token to send a
                            GET to a service you would like to use.
                            Here is an example of passing an
                            authentication token to the Cloud Files
                            service, using the Cloud Files service
                            catalog endpoint that was returned along
                            with the token.</para>
                        <para><emphasis>You can use a token and a
                                service endpoint to tell a service
                                that your credentials are
                                valid.</emphasis></para>
                    </listitem>
                </orderedlist>
            </para>
            
            
            <para>Authentication tokens are typically valid for 24 hours.
                Applications should be designed to re-authenticate after
                receiving a 401 (Unauthorized) response from a service
                endpoint. </para>
            <important>
                <para>If you are programmatically parsing an authentication
                    response, please be aware that service names are stable
                    for the life of the particular service and can be used as
                    keys. You should also be aware that a user's service
                    catalog can include multiple uniquely-named services which
                    perform similar functions. In Auth 2.0,
                    the service type attribute can be used as a key by which
                    to recognize similar services; see the tip below.
                </para>
            </important>    
        </section>
        <section xml:id="Service_Access_Endpoints-d1e753"
            xmlns:wadl="http://wadl.dev.java.net/2009/02">
            <title>Service Access Endpoints</title>
            <para>The &PRODNAME; Service is a regionalized service.
                The user of the service is therefore responsible for
                appropriate replication, caching, and overall
                maintenance of &PRODNAME; data across regional
                boundaries to other Cloud Servers.</para>
            <para>The endpoints to use for your Cloud Big Data API
                calls are summarized in the table below.</para>
            <para>
                <table rules="all">
                    <caption>Regionalized Service Endpoints</caption>
                    <thead>
                        <tr align="center">
                            <td colspan="2">Region</td>
                            <td colspan="5">Endpoint</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr align="left">
                            <td colspan="2">Chicago (ORD)</td>
                            <td colspan="5"
                                   ><code>https://ord.bigdata.api.rackspacecloud.com/v1.0/</code><parameter>1234</parameter>/
                            </td>
                        </tr>
                        <tr align="left">
                            <td colspan="2">Dallas/Ft. Worth
                                (DFW)</td>
                            <td colspan="5"
                                   ><code>https://dfw.bigdata.api.rackspacecloud.com/v1.0/</code><parameter>1234</parameter>/
                            </td>
                        </tr>
                        <tr align="left">
                            <td colspan="2">London (LON)</td>
                            <td colspan="5"
                                   ><code>https://lon.bigdata.api.rackspacecloud.com/v1.0/</code><parameter>1234</parameter>/
                            </td>
                        </tr>
                    </tbody>
                </table>
            </para>
            <para>Replace the sample account ID number,
                    <parameter>1234</parameter>, with your actual
                account number, which is returned as part of the
                authentication service response. </para>
            <?rax-fo keep-with-next?>
            <para>You will find the actual account number after the
                final '/' in the <code>publicURL</code> field returned
                by the authentication response. In the following
                example from that response, you can see from the
                    <code>publicURL</code> field for
                    <code>cloudServers</code>,
                    <code>publicURL="https://dfw.servers.api.rackspacecloud.com/v2/110011"</code>,
                that the account number is 110011.</para>
        </section>
        <section xml:id="Request_Response_Types-d1e903"
            xmlns:wadl="http://wadl.dev.java.net/2009/02">
            <title>Request/Response Types</title>
            <para>The &PRODNAME; API supports JSON data serialization
                formats. The request format is specified using the
                    <code>Content-Type</code> header and is required
                for calls that have a request body. The response
                format can be specified in requests either by using
                the <code>Accept</code> header or by adding
                    <code>.json</code> extension to the request URI.
                Note that JSON is the default format for data
                serialization.</para>
            <table rules="all">
                <caption>Response Formats</caption>
                <?dbfo keep-together="always"?>
                <thead>
                    <tr align="center">
                        <td>Format</td>
                        <td>Accept Header</td>
                        <td>Query Extension</td>
                        <td>Default</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>JSON</td>
                        <td>application/json</td>
                        <td>.json</td>
                        <td>Yes</td>
                    </tr>
                </tbody>
            </table>
        </section>
        <section xml:id="volume_status"
            xmlns:wadl="http://wadl.dev.java.net/2009/02">
            <title>Faults</title>
            <para>When an error occurs, the &PRODNAME; Service returns
                a fault object containing an HTTP error response code
                that denotes the type of error. In the body of the
                response, the system will return additional
                information about the fault.</para>
            <para>The following table lists possible fault types with
                their associated error codes and descriptions.</para>
            <informaltable rules="all">
                <thead>
                    <tr align="center">
                        <td colspan="2">Fault Type</td>
                        <td colspan="1">Associated Error Code</td>
                        <td colspan="3">Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td colspan="2"><code>unauthorized</code></td>
                        <td colspan="1">401</td>
                        <td colspan="3">The supplied token is not
                            authorized to access the resources, either
                            it's expired or invalid.</td>
                    </tr>
                    <tr>
                        <td colspan="2"><code>forbidden</code></td>
                        <td colspan="1">403</td>
                        <td colspan="3">Access to the requested
                            resource was denied.</td>
                    </tr>
                    <tr>
                        <td colspan="2"><code>itemNotFound</code></td>
                        <td colspan="1">404</td>
                        <td colspan="3">The back-end services did not
                            find anything matching the
                            Request-URI.</td>
                    </tr>
                    <tr>
                        <td colspan="2"><code>lavaFault (not yet
                                implemented)</code></td>
                        <td colspan="1">500</td>
                        <td colspan="3">An unknown exception
                            occurred.</td>
                    </tr>
                </tbody>
            </informaltable>
        </section>
        <section xml:id="Limits-d1e1208"
            xmlns:wadl="http://wadl.dev.java.net/2009/02">
            <title>Limits</title>
            <para>All accounts, by default, have a preconfigured set
                of thresholds (or limits) to manage capacity and
                prevent abuse of the system. The system recognizes two
                kinds of limits: <firstterm>rate limits</firstterm>
                and <firstterm>absolute limits</firstterm>. Rate
                limits are thresholds that are reset after a certain
                amount of time passes. Absolute limits are fixed. </para>
            <section xml:id="Rate_Limits-d1e1222">
                <title>Rate Limits</title>
                <para>Rate limits are specified in terms of both a
                    human-readable wildcard URI and a
                    machine-processable regular expression. The
                    regular expression boundary matcher '^' takes
                    effect after the root URI path. For example, the
                    regular expression ^/v1.0/clusters would match the
                    bold portion of the following URI:
                        https://dfw.bigdata.api.rackspacecloud.com<emphasis
                        role="bold">/v1.0/clusters</emphasis>. </para>
                <para>The following table specifies the default rate
                    limits for all API operations for all &GET;,
                    &POST;, &PUT;, and &DELETE; calls for clusters: </para>
                <table rules="all">
                    <caption>Default Rate Limits</caption>
                    <thead>
                        <tr align="center">
                            <td colspan="1">Verb</td>
                            <td colspan="2">URI</td>
                            <td colspan="2">RegEx</td>
                            <td colspan="1">Default</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="1">&GET; changes-since</td>
                            <td colspan="2">*/clusters/*</td>
                            <td colspan="2">^/vd+.d+/clusters.*</td>
                            <td colspan="1">3/minute</td>
                        </tr>
                        <tr>
                            <td colspan="1">&POST;</td>
                            <td colspan="2">*/clusters/*</td>
                            <td colspan="2">^/vd+.d+/clusters.*</td>
                            <td colspan="1">2/minute</td>
                        </tr>
                        <tr>
                            <td colspan="1">&POST; clusters</td>
                            <td colspan="2">*/clusters/*</td>
                            <td colspan="2">^/vd+.d+/clusters.*</td>
                            <td colspan="1">50/day</td>
                        </tr>
                        <tr>
                            <td colspan="1">&PUT;</td>
                            <td colspan="2">*/clusters/*</td>
                            <td colspan="2">^/vd+.d+/clusters.*</td>
                            <td colspan="1">2/minute</td>
                        </tr>
                        <tr>
                            <td colspan="1">&DELETE;</td>
                            <td colspan="2">*/clusters/*</td>
                            <td colspan="2">^/vd+.d+/clusters.*</td>
                            <td colspan="1">5/minute</td>
                        </tr>
                    </tbody>
                </table>
                <para>Rate limits are applied in order relative to the
                    verb, going from least to most specific. For
                    example, although the threshold for &POST; to
                    /v1.0/* is 2 per minute, one cannot &POST; to
                    /v1.0/* more than 50 times within a single day. </para>
                <para>If you exceed the thresholds established for
                    your account, a <errorcode>413
                        (OverLimit)</errorcode> HTTP response will be
                    returned with a <code>Retry-After</code> header to
                    notify the client when it can attempt to try
                    again. </para>
            </section>
            <section xml:id="Absolute_Limits-d1e1397">
                <title>Absolute Limits</title>
                <para>Refer to the following table for the absolute
                    limits that are set.</para>
                <table rules="all">
                    <caption>Absolute Limits</caption>
                    <thead>
                        <tr>
                            <td colspan="1">Name</td>
                            <td colspan="3">Description</td>
                            <td colspan="1">Limit</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="1">Node Count</td>
                            <td colspan="3">Maximum number of allowed
                                data nodes</td>
                            <td colspan="1">5</td>
                        </tr>
                        <tr>
                            <td colspan="1">Disk</td>
                            <td colspan="3">Maximum disk capacity
                                across all data nodes in gigabytes
                                (GB) </td>
                            <td colspan="1">5120</td>
                        </tr>
                        <tr>
                            <td colspan="1">RAM</td>
                            <td>Maximum RAM across all data nodes in
                                gigabytes (GB)</td>
                            <td colspan="3">40960</td>
                        </tr>
                        <tr>
                            <td colspan="1">VCPUs</td>
                            <td colspan="3">Maximum VCPUs across all
                                data nodes</td>
                            <td colspan="1">10</td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </section>
        <?hard-pagebreak?>         
        <section xml:id="datetimeformat">
            <title>Date/Time Format</title>
            <para>The &PRODNAME; Service uses an ISO-8601 compliant
                date format for the display and consumption of
                date/time values. </para>
            <remark>Reviewer:  Do I need to keep the following
                paragraph for &PRODNAME;? It is from Cloud
                Databases.</remark>
            <para>The system timezone is in UTC. MySQL converts
                TIMESTAMP values from the current time zone to UTC for
                storage, and back from UTC to the current time zone
                for retrieval. This does not occur for other types,
                such as DATETIME. </para>
                <example>
                    <title>&PRODNAME; Service Date/Time Format</title>
                    <programlisting>yyyy-MM-dd'T'HH:mm:ss.SSSZ</programlisting>
                <para>See the table below for a description of the date/time format codes.</para>
                    <para>May 19th, 2013 at 8:07:08 AM, GMT-5 would
                    have the following format:</para>
                    <programlisting>2013-05-19T08:07:08-05:00</programlisting>
                </example>
            <table rules="all">
                <caption>Explanation of Date/Time Format Codes</caption>
                <thead>
                    <tr>
                        <td>Code</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>yyyy</td>
                        <td>Four digit year</td>
                    </tr>
                    <tr>
                        <td>MM</td>
                        <td>Two digit month</td>
                    </tr>
                    <tr>
                        <td>dd</td>
                        <td>Two digit day of month</td>
                    </tr>
                    <tr>
                        <td>T</td>
                        <td>Separator for date/time</td>
                    </tr>
                    <tr>
                        <td>HH</td>
                        <td>Two digit hour of day (00-23)</td>
                    </tr>
                    <tr>
                        <td>mm</td>
                        <td>Two digit minutes of hour</td>
                    </tr>
                    <tr>
                        <td>ss</td>
                        <td>Two digit seconds of the minute</td>
                    </tr>
                    <tr>
                        <td>SSS</td>
                        <td>Three digit milliseconds of the second</td>
                    </tr>
                    <tr>
                        <td>Z</td>
                        <td>RFC-822 timezone</td>
                    </tr>
                </tbody>
            </table>
            
        </section>
        <section xml:id="cluster_status"
            xmlns:wadl="http://wadl.dev.java.net/2009/02">
            <title>Cluster Status</title>
            <para><?rax-fo keep-with-next?>When making an API call to
                create, list, or delete a cluster or clusters, the
                following cluster status values are possible:</para>
            <itemizedlist spacing="compact">
                <listitem>
                    <para>BUILDING &ndash; The cluster is being
                        provisioned.</para>
                </listitem>
                <listitem>
                    <para>CONFIGURING &ndash; The cluster is being
                        configured.</para>
                </listitem>
                <listitem>
                    <para>ACTIVE &ndash; The cluster is online and
                        available to for use.</para>
                </listitem>
                <listitem>
                    <para>DELETING &ndash; The cluster is being
                        deleted.</para>
                </listitem>
                <listitem>
                    <para>UPDATING &ndash; The cluster is being
                        updated, either being resized or another
                        update operation.</para>
                </listitem>
                <listitem>
                    <para>ERROR &ndash; The cluster failed to start
                        up.</para>
                </listitem>
            </itemizedlist>
        </section>
 <!--       
        <section xml:id="pagination">
            <title>Pagination</title>
            <remark>Reviewer: Please review and give me your updates
                for this section. Dev needs to determine which API
                calls support pagination and then supply examples.
                I</remark>
            <para>To reduce load on the service, list operations will
                return a maximum of 100 items at a time. This is
                referred to as <emphasis>pagination</emphasis>.</para>
            <para>Pagination is the ability to limit the size of the
                returned data as well as retrieve a specified subset
                of a large data set. Pagination has two key concepts:
                limit and offset. <emphasis>Limit</emphasis> is the
                restriction on the maximum number of items for that
                type that can be returned. <emphasis>Offset</emphasis>
                is the starting point for the return data. For
                example, an offset of 50 specifies that the items that
                are returned should start with item number 51 (since
                the numbering is one-based) in the collection. </para>
            <para>It is important to note that offset <emphasis>must</emphasis> be a multiple of the
                limit (or zero), otherwise a Bad Request Exception will be thrown. Both limit and
                offset are specified via request parameters on the URI. The parameters are named
                    <code>limit</code> and <code>offset</code> respectively, and both apply only to
                &GET; calls. If unspecified, they default to <code>limit=100</code> and
                    <code>offset=0</code>. See the examples that follow.</para>
            <example>    
                <title>Examples of Limits and Offsets for Paging Calls</title>
                <?dbfo keep-together="always"?>
                <programlisting language="xml"></programlisting>
            </example>
            <para>Pagination applies only to the calls listed in the following table: </para>
            <remark>Reviewer: need to update the table of paginated API
                calls below:</remark>
            <informaltable rules="all">
                <thead>
                    <tr align="center">
                        <td colspan="1">Verb</td>
                        <td colspan="2">URI</td>
                        <td colspan="3">Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td colspan="1">&GET;</td>
                        <td colspan="2">{versions}/clusters</td>
                        <td colspan="3">List all clusters for all
                            tenants. </td>
                    </tr>
                
                    
                    
                </tbody>
            </informaltable>
       </section>
-->
    </chapter>
    
    <chapter xml:id="API_Operations-d1e2264"
        xmlns="http://docbook.org/ns/docbook"
        role="api-reference">
        <title>API Operations</title>
        <para>This chapter describes each of the &PRODNAME; management
            operations.</para> 
        <section xml:id="Limits_Management-001">
            <title>Limits Management</title>
            <para>This section describes the operations that are supported for limits.</para>
            <wadl:resources xmlns:wadl="http://wadl.dev.java.net/2009/02">
                <wadl:resource href="../../src/wadl/cbd-mgmt-devguide.wadl#limits"/> 
                <wadl:resource href="../../src/wadl/cbd-mgmt-devguide.wadl#limit"/> 
            </wadl:resources>  
        </section>
        
        <section xml:id="Clusters_Management-001">
            <title>Clusters Management</title>
            <para>This section describes the operations that are supported for clusters.</para>
            <wadl:resources xmlns:wadl="http://wadl.dev.java.net/2009/02">          
                <wadl:resource href="../../src/wadl/cbd-mgmt-devguide.wadl#clusters"/>
                <wadl:resource href="../../src/wadl/cbd-mgmt-devguide.wadl#cluster"/> 
                
                <wadl:resource href="../../src/wadl/cbd-mgmt-devguide.wadl#logs"/> 
                <wadl:resource href="../../src/wadl/cbd-mgmt-devguide.wadl#action"/> 
                <wadl:resource href="../../src/wadl/cbd-mgmt-devguide.wadl#status"/> 
                <wadl:resource href="../../src/wadl/cbd-mgmt-devguide.wadl#nodes"/> 
                <wadl:resource href="../../src/wadl/cbd-mgmt-devguide.wadl#nodeAction"/> 
            </wadl:resources>   
        </section>
 
        <section xml:id="Tenant_Management-001">
            <title>Tenant Management</title>
            <para>This section describes the operations that are supported for tenants.</para>
            <wadl:resources xmlns:wadl="http://wadl.dev.java.net/2009/02">
                <wadl:resource href="../../src/wadl/cbd-mgmt-devguide.wadl#tenants"/> 
                <wadl:resource href="../../src/wadl/cbd-mgmt-devguide.wadl#tenant"/> 
                <wadl:resource href="../../src/wadl/cbd-mgmt-devguide.wadl#tenantClusters"/> 
            </wadl:resources>   
        </section>

        <section xml:id="Hosts_Management-001">
            <title>Host Management</title>
            <para>This section describes the operations that are supported for getting information about hosts.</para>
            <wadl:resources xmlns:wadl="http://wadl.dev.java.net/2009/02">   
                <wadl:resource href="../../src/wadl/cbd-mgmt-devguide.wadl#hosts"/>        
            </wadl:resources>   
        </section>
       
        <section xml:id="Servers_Management-001">
            <title>Server Management</title>
            <para>This section describes the operations that are supported for getting information about servers.</para>
            <wadl:resources xmlns:wadl="http://wadl.dev.java.net/2009/02">
                <wadl:resource href="../../src/wadl/cbd-mgmt-devguide.wadl#servers"/>             
            </wadl:resources>   
        </section>          
    </chapter>
    <glossary xml:id="glossary_1" >
        <title>Glossary</title>
        <glossentry xml:id="glosCluster" >
            <glossterm>Cluster</glossterm>
            <glossdef>
                <para> A group of servers (nodes). In &PRODABBV;, the
                    servers are virtual.</para>
            </glossdef>
        </glossentry>
        <glossentry xml:id="glosDataTransfer">
            <glossterm>Data Transfer</glossterm>
            <glossdef>
                <para>A method by to move data from a non-Cloud
                    machine by FTP or by SSH from your Cloud Files
                    account.</para>
            </glossdef>
        </glossentry>
        <glossentry xml:id="glosHDFS">
            <glossterm>HDFS</glossterm>
            <glossdef>
                <para>The Hadoop Distributed Files System. This is the
                    default file system used in &PRODNAME;.</para>
            </glossdef>
        </glossentry>
        <glossentry xml:id="glosMapReduce">
            <glossterm>MapReduce</glossterm>
            <glossdef>
                <para>A framework for performing calculations on the
                    data in the distributed file system. Map tasks run
                    in parallel with each other; Reduce tasks also run
                    in parallel with each other. </para>
            </glossdef>
        </glossentry>
        <glossentry xml:id="glosNode">
            <glossterm>Node</glossterm>
            <glossdef>
                <para>A subscriber (or observer) watches messages like
                    an RSS feed, but does not claim any
                    messages.</para>
            </glossdef>
        </glossentry>
        <glossentry xml:id="glosSCPServerProxy">
            <glossterm>SCP Server Proxy</glossterm>
            <glossdef>
                <para>An SCP service that runs on your Hadoop cluster
                    which distributes your files across the cluster.
                </para>
            </glossdef>
        </glossentry>
        <glossentry xml:id="glosServiceCatalog" >
            <glossterm>Service Catalog</glossterm>
            <glossdef>
                <para>An SCP service that runs on your Hadoop cluster
                    which distributes your files across the cluster.
                </para>
            </glossdef>
        </glossentry>
        <glossentry xml:id="glosTenantID">
            <glossterm>Tenant ID</glossterm>
            <glossdef>
                <para>A tenant is a container used to group or isolate
                    resources and/or identity objects. Depending on
                    the service operator, a tenant may map to a
                    customer, account, organization, or project.
                </para>
            </glossdef>
        </glossentry>
    </glossary>
</book>
